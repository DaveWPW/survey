<!-- Horizontal Form -->
 <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">修改密码</h3>
      </div>
      <form class="form-horizontal">
        <div class="box-body" style="margin-left:28%; margin-right:20%;">
          <div class="form-group">
            <label for="oldPasswordId" class="col-sm-2 control-label">旧密码:</label>
            <div class="col-sm-10">
              <input type="password" class="form-control"  id="oldPasswordId" style="width:300px;">
            </div>
          </div>
          <div class="form-group">
            <label for="newPasswordId" class="col-sm-2 control-label">新密码:</label>
            <div class="col-sm-10">
              <input type="password" class="form-control"  id="newPasswordId" style="width:300px;">
            </div>
          </div>
          <div class="form-group">
            <label for="newPasswordId2" class="col-sm-2 control-label">确认密码:</label>
            <div class="col-sm-10">
              <input type="password" class="form-control"  id="newPasswordId2" style="width:300px;">
            </div>
          </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
          <button type="button" class="btn btn-default btn-cancel">Cancel</button>
          <button type="button" class="btn btn-info pull-right btn-save">Save</button>
        </div>
        <!-- /.box-footer -->
      </form>
    </div>
<script type="text/javascript" src="bower_components/ztree/jquery.ztree.all.min.js"></script>
<script type="text/javascript" src="bower_components/layer/layer.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	$(".box-footer")
		.on("click", ".btn-cancel", doCancel)
		.on("click", ".btn-save", doSave);
});
function doCancel(){
	$("#mainContentId").removeData("rowData");
	location.href="doIndexUI.do";
}
function doSave(){
	if(doValidated()){
		var params = doGetParams();
		var url = "user/doUpdateUserPassword.do";
		$.post(url, params, function(result){
			if(result.state == 1){
				alert(result.message);
				doCancel();
			}else{
				alert(result.message);
			}
		});
	}
}
function doValidated(){
	var newPassword = $("#newPasswordId").val();
	var newPassword2 = $("#newPasswordId2").val();
	if(newPassword === newPassword2){
		return true;
	}
	alert("新密码和确认密码不一致！！");
	return false;
}
function doGetParams(){
	var params = {
		oldPassword : $("#oldPasswordId").val(),
		newPassword : $("#newPasswordId").val()
	}
	return params;
}
//console.log();
//alert();
//debugger;
</script>